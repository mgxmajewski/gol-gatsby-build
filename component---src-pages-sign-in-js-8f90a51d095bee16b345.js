/*! For license information please see component---src-pages-sign-in-js-8f90a51d095bee16b345.js.LICENSE.txt */
(self.webpackChunkgame_of_life_front=self.webpackChunkgame_of_life_front||[]).push([[422],{9591:function(e,t,r){var n=r(8).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(N){l=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=S(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=h(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}t.wrap=f;var p={};function d(){}function g(){}function m(){}var v={};l(v,c,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(_([])));w&&w!==r&&a.call(w,c)&&(v=w);var b=m.prototype=d.prototype=Object.create(v);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,i,c,s){var u=h(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,s)}),(function(e){r("throw",e,c,s)})):t.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return r("throw",e,c,s)}))}s(u.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=h(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=m,l(b,"constructor",m),l(m,"constructor",g),g.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},x(E.prototype),l(E.prototype,s,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new E(f(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(b),l(b,u,"Generator"),l(b,c,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=_,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=a.call(o,"catchLoc"),s=a.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,r){var n=r(9591)();e.exports=n;try{regeneratorRuntime=n}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},4832:function(e,t,r){"use strict";var n=r(9230),o=r(3980);e.exports={atob:n,btoa:o}},9230:function(e){"use strict";function t(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e);return t<0?void 0:t}e.exports=function(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");if((e=(e="".concat(e)).replace(/[ \t\n\f\r]/g,"")).length%4==0&&(e=e.replace(/==?$/,"")),e.length%4==1||/[^+/0-9A-Za-z]/.test(e))return null;for(var r="",n=0,o=0,a=0;a<e.length;a++)n<<=6,n|=t(e[a]),24===(o+=6)&&(r+=String.fromCharCode((16711680&n)>>16),r+=String.fromCharCode((65280&n)>>8),r+=String.fromCharCode(255&n),n=o=0);return 12===o?(n>>=4,r+=String.fromCharCode(n)):18===o&&(n>>=2,r+=String.fromCharCode((65280&n)>>8),r+=String.fromCharCode(255&n)),r}},3980:function(e){"use strict";function t(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}e.exports=function(e){if(0===arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r;for(e="".concat(e),r=0;r<e.length;r++)if(e.charCodeAt(r)>255)return null;var n="";for(r=0;r<e.length;r+=3){var o=[void 0,void 0,void 0,void 0];o[0]=e.charCodeAt(r)>>2,o[1]=(3&e.charCodeAt(r))<<4,e.length>r+1&&(o[1]|=e.charCodeAt(r+1)>>4,o[2]=(15&e.charCodeAt(r+1))<<2),e.length>r+2&&(o[2]|=e.charCodeAt(r+2)>>6,o[3]=63&e.charCodeAt(r+2));for(var a=0;a<o.length;a++)void 0===o[a]?n+="=":n+=t(o[a])}return n}},8677:function(e,t,r){"use strict";function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,i=0,c="";o=t.charAt(i++);~o&&(r=a%4?64*r+o:o,a++%4)?c+=String.fromCharCode(255&r>>(-2*a&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return c};function a(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return o(t)}}function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(a(e.split(".")[r]))}catch(e){throw new i("Invalid token specified: "+e.message)}}},5992:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(5861),o=r(1721),a=r(7757),i=r.n(a),c=r(7294),s=r(7932),u=r(5444),l=r(2096),f=r(8677),h=r(6474),p=r(4832).btoa,d=function(e){var t=e.email,r=e.password,n="Basic "+p(t+":"+r);return console.log(n),h("https://gol-api.agilecat.io/user/login",{method:"POST",headers:{Authorization:""+n,"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}))},g=function(e,t){(0,l.qG)([e.accessToken]),(0,l.x5)([(0,f.Z)((0,l.qG)()[0]).id]),console.log("Login "+(0,l.qG)()),localStorage.setItem("userName",""+t),s.Tz.close(!1),(0,u.c4)("/grid")},m="server-messeges-module--sign-in-out-errors--iVq9g";var v=function(e){var t=e.messages;return t.length?c.createElement("div",null,c.createElement("h3",null,"Server response"),1===t.length?c.createElement("p",{className:m},t):c.createElement("ul",null,t.map((function(e,t){return c.createElement("li",{className:m,key:t},e)})))):c.createElement("p",null)},y=r(5858),w=function(e){var t=function(t,r){return c.createElement("p",null,""+t,c.createElement("button",{className:y.Lh,style:{textDecorationLine:"underline"},onClick:e.onTogglePurpose},"Click here"),""+r)};return c.createElement("div",{className:"generic-user-form-module--generic-form--rUbYc "+y.eC},c.createElement("h1",null,"Get access"),c.createElement(v,{messages:e.messages}),c.createElement("form",{method:"post",onSubmit:e.onSubmit},c.createElement("label",null,"Email",c.createElement("input",{type:"text",name:"email",onChange:e.onChange})),c.createElement("label",null,"Password",c.createElement("input",{type:"password",name:"password",onChange:e.onChange})),c.createElement("button",{type:"submit",className:y.c7+" generic-user-form-module--generic-form-button--c76T3"},e.purpose)),"Sign in"===e.purpose?t("Don't have a user account? "," to sign up!"):t("Already have a user account? "," to sign in!"))},b=r(6474),x=function(e){var t=e.email,r=e.password,n=t.split("@")[0],o=JSON.stringify({userName:n,emailAddress:t,password:r});return b("https://gol-api.agilecat.io/user/create",{method:"POST",headers:{"Content-Type":"application/json"},body:o,credentials:"include"}).then((function(e){return e.json()})).catch((function(e){return console.log("error",e)}))},E="Create account",S="Sign in",C=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).state={email:"",password:"",purpose:S,messages:[]},t.getUserNameFromEmailState=function(){return t.state.email.split("@")[0]},t.handlePurposeToggle=function(){t.setState({purpose:t.state.purpose===S?E:S})},t.handleUpdate=function(e){var r;t.setState(((r={})[e.target.name]=e.target.value,r))},t.handleMessages=function(e){t.setState({messages:e.messages})},t.handleSubmit=function(){var e=(0,n.Z)(i().mark((function e(r){var n,o,a,c,s,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n=t.state.purpose===S,o=t.state.purpose===E,!n){e.next=11;break}return e.next=6,d(t.state);case 6:a=e.sent,"accessToken"in a?(c=t.getUserNameFromEmailState(),g(a,c)):t.handleMessages(a),e.next=23;break;case 11:if(!o){e.next=23;break}return e.next=14,x(t.state);case 14:if(s=e.sent,t.handleMessages(s),!function(e){return"Account successfully created"===e.messages[0]}(s)){e.next=23;break}return e.next=20,d(t.state);case 20:u=e.sent,l=t.getUserNameFromEmailState(),g(u,l);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return(0,o.Z)(t,e),t.prototype.render=function(){var e=this;return c.createElement(c.Fragment,null,c.createElement(w,{messages:this.state.messages,onSubmit:function(t){e.handleSubmit(t)},onChange:this.handleUpdate,purpose:this.state.purpose,onTogglePurpose:this.handlePurposeToggle}))},t}(c.Component),L=C},5861:function(e,t,r){"use strict";function n(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function c(e){n(i,o,a,c,s,"next",e)}function s(e){n(i,o,a,c,s,"throw",e)}c(void 0)}))}}r.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=component---src-pages-sign-in-js-8f90a51d095bee16b345.js.map